<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Lcode List</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="data.json"></script>
    <script type="text/javascript" src="lcode.json"></script>
  </head>

  <!-- The `multiple` attribute lets users select multiple files. -->
  <body style="text-align: center" id="body">
    <h1 style="color: green">Problem List</h1>

    <p id="GFG_UP" style="font-size: 15px; font-weight: bold"></p>
    <!-- <button onclick="constructTable('#table')">click here</button> -->
    <br /><br />
    <div id="lcode_count">AAA</div>
    <table
      align="center"
      id="table"
      border="1"
      class="table table-bordered table-hover"
    ></table>

    <script>
      var lcodeData = JSON.parse(lcode_data);
      //   console.log("Lcode:", lcodeData);

      var el_up = document.getElementById("GFG_UP");

      var list = [
        {
          Number: "0704",
          Level: 1,
          Title: "Binary Search",
          Url: "https://leetcode.com/problems/binary-search",
          Tags: ["Binary Search", "DFS"],
          Memo: "Watch out the condition to jump out the loop.",
        },
        {
          Number: "0705",
          Level: 1,
          Title: "Design HashSet",
          Url: "https://leetcode.com/problems/design-hashset",
          Tags: ["Binary Search", "Hash Set"],
          Memo: "Compare set and map.",
        },
        {
          Number: "0706",
          Level: 1,
          Title: "Design HashMap",
          Url: "https://leetcode.com/problems/design-hashmap",
          Tags: ["Data Structure", "Hash Map"],
          Memo: "Implement the hashmap from linkedlist and array.",
        },
        {
          Number: "0718",
          Level: 2,
          Title: "Maximum Length of Repeated Subarray",
          Url: "https://leetcode.com/problems/maximum-length-of-repeated-subarray",
          Tags: ["Array", "String"],
          Memo: "--",
        },
      ];
      list = lcodeData;
      // el_up.innerHTML = "Click on the button to create "
      // + "the table from the JSON data.<br><br>"
      // + JSON.stringify(lcode) + "<br>";

      var count_easy = 0;
      var count_medium = 0;
      var count_hard = 0;
      var count_total = 0;

      function constructTable(selector) {
        // Getting the all column names
        var cols = Headers(list, selector);

        // Traversing the JSON data
        for (var i = 0; i < list.length; i++) {
          var row = $("<tr/>");
          //   console.log(list[i]);

          number = list[i]["Number"];
          level = list[i]["Level"];
          title = list[i]["Title"];
          url = list[i]["Url"];
          tags = list[i]["Tags"];
          memo = list[i]["Memo"];

          //console.log(number, level, title, url);

          //Number
          var colorCode;
          if (level == 1) {
            colorCode = "#3e7d23";
            count_easy += 1;
          } else if (level == 2) {
            colorCode = "#c9891a";
            count_medium += 1;
          } else {
            colorCode = "#b00e2c";
            count_hard += 1;
          }
          row.append(
            $("<td/>")
              .css("background-color", colorCode)
              .html('<div>' + number + '</div>')
          );

          //Title
          row.append(
            $("<td/>").html('<a href="' + url + '">' + title + "</a>")
          );

          //Tags
          var tagsHtml = "";
          for (var tag of tags) {
            tagsHtml =
              tagsHtml + '<button class="btn btn-primary" style="margin:5px">' + tag + "</button>";
          }
          tagsHtml = tagsHtml + "";
          row.append($("<td/>").html(tagsHtml));

          //Memo
          row.append($("<td/>").html(memo));

          // Adding each row to the table
          $(selector).append(row);
        }
      }

      function Headers(list, selector) {
        var columns = ["Number", "Title", "Tag", "Memo"];
        var header = $("<tr/>");

        for (var k of columns) {
          header.append($("<th/>").html(k));
        }

        // Appending the header to the table
        $(selector).append(header);
        return columns;
      }
      constructTable("#table");

      count_total = count_easy + count_medium + count_hard;
      $("#lcode_count").html(
        "Easy:" +
          count_easy +
          "<br/>" +
          "Medium:" +
          count_medium +
          "<br/>" +
          "Hard:" +
          count_hard +
          "<br/>" +
          "Total:" +
          count_total
      );
    </script>
  </body>
</html>
